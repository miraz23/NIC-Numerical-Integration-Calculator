<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NIC | Home</title>
    <link rel="icon" type="image/png" href="logo.png">
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@400;500;600;700&family=Roboto+Mono:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body class="min-h-screen">
    <header class="border-b border-border bg-card/50 backdrop-blur-sm sticky top-0 z-10">
        <div class="container mx-auto px-4 py-4 flex items-center justify-between">
            <div>
                <h1 class="text-2xl font-bold text-primary">∫ Integration Calculator</h1>
                <p class="text-sm text-muted-foreground">Numerical approximation methods</p>
            </div>
            <div class="flex gap-2">
                <button id="docsBtn" class="flex items-center gap-2 px-3 py-1.5 border border-border rounded text-sm hover:bg-secondary transition-colors">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20"/><path d="M8 11h8"/><path d="M8 7h8"/><path d="M8 15h6"/></svg>
                    Documentation
                </button>
                <button id="resetBtn" class="flex items-center gap-2 px-3 py-1.5 border border-border rounded text-sm hover:bg-secondary transition-colors">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"/><path d="M3 3v5h5"/></svg>
                    Reset
                </button>
            </div>
        </div>
    </header>

    <main class="container mx-auto px-4 py-6">
        <div id="errorDisplay" class="hidden mb-6 p-4 bg-destructive-10 border border-destructive rounded-lg flex items-start gap-3">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-destructive flex-shrink-0 mt-0.5"><circle cx="12" cy="12" r="10"/><line x1="12" y1="8" x2="12" y2="12"/><line x1="12" y1="16" x2="12.01" y2="16"/></svg>
            <div>
                <p class="font-semibold text-destructive">Error</p>
                <p id="errorMessage" class="text-sm text-destructive/80"></p>
            </div>
        </div>

        <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
            <div class="lg:col-span-1 space-y-4">
                <div class="bg-card border border-border rounded-lg p-6">
                    <h2 class="text-lg font-bold mb-1">Function</h2>
                    <p class="text-sm text-muted-foreground mb-4">Enter the function to integrate</p>
                    <div class="space-y-3">
                        <div>
                            <label for="functionInput" class="text-xs uppercase tracking-wide text-muted-foreground mb-2 block">f(x) =</label>
                            <input id="functionInput" type="text" value="x**2" placeholder="e.g., x**2, sin(x), sqrt(x)" class="w-full font-mono text-sm bg-input border border-border rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary">
                        </div>
                        <div class="text-xs text-muted-foreground space-y-1">
                            <p>Supported: +, -, *, /, ^, sin, cos, tan, sqrt, exp, log, abs</p>
                            <p>Constants: π, e</p>
                        </div>
                    </div>
                </div>

                <div class="bg-card border border-border rounded-lg p-6">
                    <h2 class="text-lg font-bold mb-1">Integration Bounds</h2>
                    <p class="text-sm text-muted-foreground mb-4">Define the interval [a, b]</p>
                    <div class="grid grid-cols-2 gap-3">
                        <div>
                            <label for="lowerBound" class="text-xs uppercase tracking-wide text-muted-foreground mb-2 block">Lower Bound (a)</label>
                            <input id="lowerBound" type="number" value="0" step="0.1" class="w-full font-mono text-sm bg-input border border-border rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary">
                        </div>
                        <div>
                            <label for="upperBound" class="text-xs uppercase tracking-wide text-muted-foreground mb-2 block">Upper Bound (b)</label>
                            <input id="upperBound" type="number" value="1" step="0.1" class="w-full font-mono text-sm bg-input border border-border rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary">
                        </div>
                    </div>
                </div>

                <div class="bg-card border border-border rounded-lg p-6">
                    <h2 class="text-lg font-bold mb-1">Methods</h2>
                    <p class="text-sm text-muted-foreground mb-4">Select integration methods</p>
                    <div class="space-y-2">
                        <div class="flex items-center gap-3">
                            <input type="checkbox" id="methodTrapezoidal" checked class="w-4 h-4 rounded border-border bg-input text-primary focus:ring-primary">
                            <label for="methodTrapezoidal" class="text-sm cursor-pointer">Trapezoidal Rule</label>
                        </div>
                        <div class="flex items-center gap-3">
                            <input type="checkbox" id="methodSimpson13" checked class="w-4 h-4 rounded border-border bg-input text-primary focus:ring-primary">
                            <label for="methodSimpson13" class="text-sm cursor-pointer">Simpson's 1/3 Rule</label>
                        </div>
                        <div class="flex items-center gap-3">
                            <input type="checkbox" id="methodSimpson38" checked class="w-4 h-4 rounded border-border bg-input text-primary focus:ring-primary">
                            <label for="methodSimpson38" class="text-sm cursor-pointer">Simpson's 3/8 Rule</label>
                        </div>
                    </div>
                </div>

                <div class="bg-card border border-border rounded-lg p-6">
                    <h2 class="text-lg font-bold mb-1">Parameters</h2>
                    <p class="text-sm text-muted-foreground mb-4">Adjust precision settings</p>
                    <div class="space-y-3">
                        <div>
                            <label for="intervalsInput" class="text-xs uppercase tracking-wide text-muted-foreground mb-2 block">Intervals (Trapezoidal/Simpson 1/3/3/8)</label>
                            <input id="intervalsInput" type="number" value="10" min="2" step="10" class="w-full font-mono text-sm bg-input border border-border rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary">
                        </div>
                    </div>
                </div>

                <button id="calculateBtn" class="w-full bg-primary hover:bg-primary/90 text-primary-foreground font-semibold py-3 rounded-lg transition-colors flex items-center justify-center gap-2">
                    Calculate
                </button>

                <div class="bg-card border border-border rounded-lg p-6">
                    <h2 class="text-lg font-bold mb-1">Real-World Examples</h2>
                    <p class="text-sm text-muted-foreground mb-4">Quick-load practical scenarios</p>
                    <div class="space-y-2">
                        <select id="exampleSelector" class="w-full font-mono text-sm bg-input border border-border rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary">
                            <option value="">Select an example...</option>
                            <option value="area_parabola">Area: Parabola (x² from 0 to 2)</option>
                            <option value="volume_sphere">Volume: Sphere (1-x² from 0 to 1)</option>
                            <option value="work_force">Physics: Work by variable force (x² from 0 to 5)</option>
                            <option value="spring_energy">Physics: Spring energy (10x from 0 to 0.5)</option>
                            <option value="distance_velocity">Physics: Distance traveled (2x+3 from 0 to 10)</option>
                            <option value="fluid_flow">Engineering: Fluid flow (1-x² from 0 to 1)</option>
                        </select>
                        <button id="loadExampleBtn" class="w-full px-4 py-2 border border-border rounded text-sm hover:bg-secondary transition-colors">
                            Load Example
                        </button>
                    </div>
                </div>
            </div>

            <div class="lg:col-span-2 space-y-6">
                <div id="visualizationCard" class="hidden bg-card border border-border rounded-lg overflow-hidden">
                    <div class="p-6 border-b border-border">
                        <h2 class="text-lg font-bold">Visualization</h2>
                    </div>
                    <div class="p-6">
                        <div id="vizTabs" class="flex gap-4 mb-4 border-b border-border">
                        </div>
                        <canvas id="vizCanvas" class="w-full h-96 bg-gradient-to-br from-slate-900 to-slate-800 rounded"></canvas>
                    </div>
                </div>

                <div id="resultsCard" class="hidden space-y-6">
                    <div class="bg-card border border-border rounded-lg p-6">
                        <h2 class="text-lg font-bold mb-1">Results</h2>
                        <p class="text-sm text-muted-foreground mb-4">Numerical integration approximations</p>
                        <div id="resultsSummary" class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        </div>
                    </div>

                    <div id="detailedResultCard" class="hidden bg-card border border-border rounded-lg p-6">
                        <h2 id="detailedResultTitle" class="text-lg font-bold mb-4">Method Details</h2>
                        <div class="grid grid-cols-2 md:grid-cols-3 gap-4 mb-4">
                            <div>
                                <p class="text-xs uppercase tracking-wide text-muted-foreground mb-1">Result</p>
                                <p id="detailedResultValue" class="text-xl font-mono font-bold text-primary"></p>
                            </div>
                            <div id="detailedIntervalsBox">
                                <p class="text-xs uppercase tracking-wide text-muted-foreground mb-1">Intervals</p>
                                <p id="detailedIntervalsValue" class="text-xl font-mono font-bold"></p>
                            </div>
                            <div>
                                <p class="text-xs uppercase tracking-wide text-muted-foreground mb-1">Execution Time</p>
                                <p id="detailedTimeValue" class="text-xl font-mono font-bold"></p>
                            </div>
                        </div>
                        <div id="detailedErrorBox" class="hidden pt-4 border-t border-border">
                            <h3 class="text-sm font-semibold mb-3 text-foreground">Error Estimation</h3>
                            <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                                <div>
                                    <p class="text-xs uppercase tracking-wide text-muted-foreground mb-1">Reference Value</p>
                                    <p id="detailedExactValue" class="text-lg font-mono font-bold text-accent"></p>
                                </div>
                                <div>
                                    <p class="text-xs uppercase tracking-wide text-muted-foreground mb-1">Absolute Error</p>
                                    <p id="detailedAbsoluteError" class="text-lg font-mono font-bold text-destructive"></p>
                                </div>
                                <div>
                                    <p class="text-xs uppercase tracking-wide text-muted-foreground mb-1">Relative Error</p>
                                    <p id="detailedRelativeError" class="text-lg font-mono font-bold text-destructive"></p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="bg-card border border-border rounded-lg p-6">
                        <h2 class="text-lg font-bold mb-1 flex items-center gap-2">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-destructive"><circle cx="12" cy="12" r="10"/><line x1="12" y1="8" x2="12" y2="12"/><line x1="12" y1="16" x2="12.01" y2="16"/></svg>
                            Error Comparison
                        </h2>
                        <p class="text-sm text-muted-foreground mb-4">Compare absolute errors across different methods</p>
                        <div id="errorChartContainer" class="hidden h-64 w-full">
                            <canvas id="errorCanvas"></canvas>
                        </div>
                        <button id="showErrorChartBtn" onclick="drawErrorChart()" class="mt-4 px-4 py-2 border border-border rounded text-sm hover:bg-secondary transition-colors">
                            Show Error Visualization
                        </button>
                    </div>

                    <div class="bg-card border border-border rounded-lg p-6">
                        <h2 class="text-lg font-bold mb-1 flex items-center gap-2">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-accent"><path d="m3 16 4-4 4 4 4-4 4 4"/><path d="M18 12h4v4"/></svg>
                            Convergence Analysis
                        </h2>
                        <p class="text-sm text-muted-foreground mb-4">Analyze accuracy as precision increases</p>
                        <div class="flex flex-wrap gap-2 mb-4">
                            <button onclick="analyzeConvergence('trapezoidal')" class="px-3 py-1.5 border border-border rounded text-sm hover:bg-secondary transition-colors">Trapezoidal</button>
                            <button onclick="analyzeConvergence('simpson13')" class="px-3 py-1.5 border border-border rounded text-sm hover:bg-secondary transition-colors">Simpson's 1/3</button>
                            <button onclick="analyzeConvergence('simpson38')" class="px-3 py-1.5 border border-border rounded text-sm hover:bg-secondary transition-colors">Simpson's 3/8</button>
                        </div>
                        <div id="convergenceChartContainer" class="hidden h-64 w-full">
                            <canvas id="convergenceCanvas"></canvas>
                        </div>
                    </div>

                    <button id="exportBtn" class="w-full flex items-center justify-center gap-2 px-4 py-2 border border-border rounded-lg hover:bg-secondary transition-colors">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" y1="15" x2="12" y2="3"/></svg>
                        Export Results (JSON)
                    </button>
                </div>

                <div id="emptyState" class="p-12 bg-card border border-border rounded-lg text-center">
                    <p class="text-muted-foreground mb-4">Enter a function and click "Calculate" to see results</p>
                    <div class="inline-block px-4 py-2 bg-primary/10 rounded text-sm text-primary">
                        Try: x**2, sin(x), sqrt(x), exp(x)
                    </div>
                </div>
            </div>
        </div>
    </main>

    <div id="docsModal" class="hidden fixed inset-0 z-50 overflow-y-auto bg-black/50 backdrop-blur-sm">
        <div class="flex items-center justify-center min-h-screen p-4">
            <div class="bg-card border border-border rounded-lg max-w-4xl w-full max-h-[90vh] overflow-hidden flex flex-col">
                <div class="p-6 border-b border-border flex items-center justify-between sticky top-0 bg-card">
                    <h2 class="text-2xl font-bold text-primary">Documentation & Tutorials</h2>
                    <button id="closeDocsBtn" class="p-2 hover:bg-secondary rounded transition-colors">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg>
                    </button>
                </div>
                <div class="overflow-y-auto p-6 space-y-8">
                    <!-- Getting Started -->
                    <section>
                        <h3 class="text-xl font-bold mb-4 text-primary">Getting Started</h3>
                        <div class="space-y-4 text-sm text-muted-foreground">
                            <p>The Numerical Integration Calculator allows you to approximate definite integrals using three different numerical methods. Follow these steps to get started:</p>
                            <ol class="list-decimal list-inside space-y-2 ml-4">
                                <li><strong class="text-foreground">Enter your function:</strong> Type your function f(x) in the function input field. Use standard mathematical notation (e.g., <code class="bg-input px-1 py-0.5 rounded font-mono">x**2</code>, <code class="bg-input px-1 py-0.5 rounded font-mono">sin(x)</code>, <code class="bg-input px-1 py-0.5 rounded font-mono">sqrt(x)</code>).</li>
                                <li><strong class="text-foreground">Set integration bounds:</strong> Specify the lower bound (a) and upper bound (b) to define your integration interval [a, b].</li>
                                <li><strong class="text-foreground">Choose methods:</strong> Select one or more integration methods you want to compare.</li>
                                <li><strong class="text-foreground">Set intervals:</strong> Adjust the number of intervals (subdivisions) to control precision. More intervals generally yield more accurate results but take longer to compute.</li>
                                <li><strong class="text-foreground">Calculate:</strong> Click the "Calculate" button to see results and visualizations.</li>
                            </ol>
                        </div>
                    </section>

                    <section>
                        <h3 class="text-xl font-bold mb-4 text-primary">Function Syntax</h3>
                        <div class="bg-secondary rounded-lg p-4 space-y-3">
                            <div>
                                <p class="text-sm font-semibold mb-2 text-foreground">Supported Operations:</p>
                                <ul class="text-sm text-muted-foreground space-y-1 ml-4">
                                    <li><code class="bg-input px-1 py-0.5 rounded font-mono">+</code> Addition</li>
                                    <li><code class="bg-input px-1 py-0.5 rounded font-mono">-</code> Subtraction</li>
                                    <li><code class="bg-input px-1 py-0.5 rounded font-mono">*</code> Multiplication</li>
                                    <li><code class="bg-input px-1 py-0.5 rounded font-mono">/</code> Division</li>
                                    <li><code class="bg-input px-1 py-0.5 rounded font-mono">^</code> or <code class="bg-input px-1 py-0.5 rounded font-mono">**</code> Exponentiation</li>
                                </ul>
                            </div>
                            <div>
                                <p class="text-sm font-semibold mb-2 text-foreground">Mathematical Functions:</p>
                                <ul class="text-sm text-muted-foreground space-y-1 ml-4">
                                    <li><code class="bg-input px-1 py-0.5 rounded font-mono">sin(x)</code> Sine</li>
                                    <li><code class="bg-input px-1 py-0.5 rounded font-mono">cos(x)</code> Cosine</li>
                                    <li><code class="bg-input px-1 py-0.5 rounded font-mono">tan(x)</code> Tangent</li>
                                    <li><code class="bg-input px-1 py-0.5 rounded font-mono">sqrt(x)</code> Square root</li>
                                    <li><code class="bg-input px-1 py-0.5 rounded font-mono">exp(x)</code> Exponential (e^x)</li>
                                    <li><code class="bg-input px-1 py-0.5 rounded font-mono">log(x)</code> or <code class="bg-input px-1 py-0.5 rounded font-mono">ln(x)</code> Natural logarithm</li>
                                    <li><code class="bg-input px-1 py-0.5 rounded font-mono">abs(x)</code> Absolute value</li>
                                </ul>
                            </div>
                            <div>
                                <p class="text-sm font-semibold mb-2 text-foreground">Constants:</p>
                                <ul class="text-sm text-muted-foreground space-y-1 ml-4">
                                    <li><code class="bg-input px-1 py-0.5 rounded font-mono">π</code> Pi (3.14159...)</li>
                                    <li><code class="bg-input px-1 py-0.5 rounded font-mono">e</code> Euler's number (2.71828...)</li>
                                </ul>
                            </div>
                        </div>
                    </section>

                    <section>
                        <h3 class="text-xl font-bold mb-4 text-primary">Theory: Trapezoidal Rule</h3>
                        <div class="space-y-4 text-sm text-muted-foreground">
                            <p>The Trapezoidal Rule approximates the definite integral by dividing the interval [a, b] into n equal subintervals and approximating the area under the curve using trapezoids.</p>
                            <div class="bg-secondary rounded-lg p-4">
                                <p class="font-semibold text-foreground mb-2">Formula:</p>
                                <p class="font-mono text-center text-foreground">∫[a to b] f(x)dx ≈ (h/2)[f(a) + 2∑f(xᵢ) + f(b)]</p>
                                <p class="mt-2 text-xs">where h = (b - a)/n and xᵢ = a + i·h</p>
                            </div>
                            <div>
                                <p class="font-semibold text-foreground mb-2">How it works:</p>
                                <ul class="list-disc list-inside space-y-1 ml-4">
                                    <li>Divides the interval into n equal subintervals</li>
                                    <li>Approximates each subinterval as a trapezoid</li>
                                    <li>Sums the areas of all trapezoids</li>
                                    <li>Error is proportional to h², making it a second-order method</li>
                                </ul>
                            </div>
                            <div>
                                <p class="font-semibold text-foreground mb-2">When to use:</p>
                                <ul class="list-disc list-inside space-y-1 ml-4">
                                    <li>Simple and straightforward method</li>
                                    <li>Good for functions that are approximately linear over small intervals</li>
                                    <li>Requires fewer function evaluations than Simpson's methods</li>
                                    <li>Less accurate than Simpson's methods for smooth functions</li>
                                </ul>
                            </div>
                        </div>
                    </section>

                    <section>
                        <h3 class="text-xl font-bold mb-4 text-primary">Theory: Simpson's 1/3 Rule</h3>
                        <div class="space-y-4 text-sm text-muted-foreground">
                            <p>Simpson's 1/3 Rule uses quadratic polynomials (parabolas) to approximate the function over pairs of subintervals, providing higher accuracy than the Trapezoidal Rule.</p>
                            <div class="bg-secondary rounded-lg p-4">
                                <p class="font-semibold text-foreground mb-2">Formula:</p>
                                <p class="font-mono text-center text-foreground">∫[a to b] f(x)dx ≈ (h/3)[f(a) + 4∑f(x₂ᵢ₋₁) + 2∑f(x₂ᵢ) + f(b)]</p>
                                <p class="mt-2 text-xs">where h = (b - a)/n, n must be even, and xᵢ = a + i·h</p>
                            </div>
                            <div>
                                <p class="font-semibold text-foreground mb-2">How it works:</p>
                                <ul class="list-disc list-inside space-y-1 ml-4">
                                    <li>Requires an even number of subintervals</li>
                                    <li>Fits a quadratic polynomial through three consecutive points</li>
                                    <li>Uses weighted coefficients: 1, 4, 2, 4, 2, ..., 4, 1</li>
                                    <li>Error is proportional to h⁴, making it a fourth-order method</li>
                                    <li>More accurate than Trapezoidal Rule for smooth functions</li>
                                </ul>
                            </div>
                            <div>
                                <p class="font-semibold text-foreground mb-2">When to use:</p>
                                <ul class="list-disc list-inside space-y-1 ml-4">
                                    <li>Best for smooth, well-behaved functions</li>
                                    <li>Provides excellent accuracy with fewer intervals</li>
                                    <li>Ideal when the function can be well-approximated by quadratic polynomials</li>
                                    <li>Most commonly used Simpson's method</li>
                                </ul>
                            </div>
                        </div>
                    </section>

                    <section>
                        <h3 class="text-xl font-bold mb-4 text-primary">Theory: Simpson's 3/8 Rule</h3>
                        <div class="space-y-4 text-sm text-muted-foreground">
                            <p>Simpson's 3/8 Rule uses cubic polynomials to approximate the function over triplets of subintervals, providing an alternative to Simpson's 1/3 Rule.</p>
                            <div class="bg-secondary rounded-lg p-4">
                                <p class="font-semibold text-foreground mb-2">Formula:</p>
                                <p class="font-mono text-center text-foreground">∫[a to b] f(x)dx ≈ (3h/8)[f(a) + 3∑f(x₃ᵢ₋₂) + 3∑f(x₃ᵢ₋₁) + 2∑f(x₃ᵢ) + f(b)]</p>
                                <p class="mt-2 text-xs">where h = (b - a)/n, n must be divisible by 3, and xᵢ = a + i·h</p>
                            </div>
                            <div>
                                <p class="font-semibold text-foreground mb-2">How it works:</p>
                                <ul class="list-disc list-inside space-y-1 ml-4">
                                    <li>Requires the number of subintervals to be divisible by 3</li>
                                    <li>Fits a cubic polynomial through four consecutive points</li>
                                    <li>Uses weighted coefficients: 1, 3, 3, 2, 3, 3, 2, ..., 3, 3, 1</li>
                                    <li>Error is proportional to h⁴, same order as Simpson's 1/3 Rule</li>
                                    <li>Useful when the number of intervals is divisible by 3 but not by 2</li>
                                </ul>
                            </div>
                            <div>
                                <p class="font-semibold text-foreground mb-2">When to use:</p>
                                <ul class="list-disc list-inside space-y-1 ml-4">
                                    <li>Useful when you have a number of intervals divisible by 3</li>
                                    <li>Provides similar accuracy to Simpson's 1/3 Rule</li>
                                    <li>Good alternative when Simpson's 1/3 Rule cannot be applied</li>
                                    <li>Better for functions that require cubic approximation</li>
                                </ul>
                            </div>
                        </div>
                    </section>

                    <!-- Practical Examples -->
                    <section>
                        <h3 class="text-xl font-bold mb-4 text-primary">Practical Examples</h3>
                        <div class="space-y-6">
                            <div class="bg-secondary rounded-lg p-4">
                                <h4 class="font-semibold text-foreground mb-3">Example 1: Simple Polynomial</h4>
                                <p class="text-sm text-muted-foreground mb-2">Calculate ∫₀¹ x² dx</p>
                                <ul class="text-sm text-muted-foreground space-y-1 ml-4">
                                    <li><strong class="text-foreground">Function:</strong> <code class="bg-input px-1 py-0.5 rounded font-mono">x**2</code></li>
                                    <li><strong class="text-foreground">Lower bound:</strong> 0</li>
                                    <li><strong class="text-foreground">Upper bound:</strong> 1</li>
                                    <li><strong class="text-foreground">Intervals:</strong> 10</li>
                                    <li><strong class="text-foreground">Expected result:</strong> 1/3 ≈ 0.333333...</li>
                                    <li><strong class="text-foreground">Tip:</strong> Try increasing intervals to see convergence</li>
                                </ul>
                            </div>

                            <div class="bg-secondary rounded-lg p-4">
                                <h4 class="font-semibold text-foreground mb-3">Example 2: Trigonometric Function</h4>
                                <p class="text-sm text-muted-foreground mb-2">Calculate ∫₀^π sin(x) dx</p>
                                <ul class="text-sm text-muted-foreground space-y-1 ml-4">
                                    <li><strong class="text-foreground">Function:</strong> <code class="bg-input px-1 py-0.5 rounded font-mono">sin(x)</code></li>
                                    <li><strong class="text-foreground">Lower bound:</strong> 0</li>
                                    <li><strong class="text-foreground">Upper bound:</strong> π (or 3.14159)</li>
                                    <li><strong class="text-foreground">Intervals:</strong> 20</li>
                                    <li><strong class="text-foreground">Expected result:</strong> 2</li>
                                    <li><strong class="text-foreground">Tip:</strong> Simpson's methods work excellently for smooth trigonometric functions</li>
                                </ul>
                            </div>

                            <div class="bg-secondary rounded-lg p-4">
                                <h4 class="font-semibold text-foreground mb-3">Example 3: Exponential Function</h4>
                                <p class="text-sm text-muted-foreground mb-2">Calculate ∫₀¹ e^x dx</p>
                                <ul class="text-sm text-muted-foreground space-y-1 ml-4">
                                    <li><strong class="text-foreground">Function:</strong> <code class="bg-input px-1 py-0.5 rounded font-mono">exp(x)</code></li>
                                    <li><strong class="text-foreground">Lower bound:</strong> 0</li>
                                    <li><strong class="text-foreground">Upper bound:</strong> 1</li>
                                    <li><strong class="text-foreground">Intervals:</strong> 16</li>
                                    <li><strong class="text-foreground">Expected result:</strong> e - 1 ≈ 1.71828...</li>
                                    <li><strong class="text-foreground">Tip:</strong> Compare all three methods to see accuracy differences</li>
                                </ul>
                            </div>

                            <div class="bg-secondary rounded-lg p-4">
                                <h4 class="font-semibold text-foreground mb-3">Example 4: Composite Function</h4>
                                <p class="text-sm text-muted-foreground mb-2">Calculate ∫₀² x·sin(x²) dx</p>
                                <ul class="text-sm text-muted-foreground space-y-1 ml-4">
                                    <li><strong class="text-foreground">Function:</strong> <code class="bg-input px-1 py-0.5 rounded font-mono">x*sin(x**2)</code></li>
                                    <li><strong class="text-foreground">Lower bound:</strong> 0</li>
                                    <li><strong class="text-foreground">Upper bound:</strong> 2</li>
                                    <li><strong class="text-foreground">Intervals:</strong> 30</li>
                                    <li><strong class="text-foreground">Tip:</strong> Use more intervals for oscillating functions</li>
                                </ul>
                            </div>
                        </div>
                    </section>

                    <section>
                        <h3 class="text-xl font-bold mb-4 text-primary">Tips for Effective Use</h3>
                        <div class="space-y-3 text-sm text-muted-foreground">
                            <div class="bg-secondary rounded-lg p-4">
                                <p class="font-semibold text-foreground mb-2">Choosing the Right Method:</p>
                                <ul class="list-disc list-inside space-y-1 ml-4">
                                    <li><strong class="text-foreground">Trapezoidal Rule:</strong> Use for quick approximations or when simplicity is preferred</li>
                                    <li><strong class="text-foreground">Simpson's 1/3 Rule:</strong> Best choice for most smooth functions - provides excellent accuracy</li>
                                    <li><strong class="text-foreground">Simpson's 3/8 Rule:</strong> Use when you have intervals divisible by 3 but not by 2</li>
                                </ul>
                            </div>
                            <div class="bg-secondary rounded-lg p-4">
                                <p class="font-semibold text-foreground mb-2">Optimizing Precision:</p>
                                <ul class="list-disc list-inside space-y-1 ml-4">
                                    <li>Start with fewer intervals (10-20) to get quick results</li>
                                    <li>Gradually increase intervals to improve accuracy</li>
                                    <li>Use the Convergence Analysis feature to see how results stabilize</li>
                                    <li>More intervals = better accuracy but slower computation</li>
                                </ul>
                            </div>
                            <div class="bg-secondary rounded-lg p-4">
                                <p class="font-semibold text-foreground mb-2">Interpreting Results:</p>
                                <ul class="list-disc list-inside space-y-1 ml-4">
                                    <li>Compare multiple methods to verify consistency</li>
                                    <li>Check the visualization to understand how each method approximates the area</li>
                                    <li>Use convergence analysis to determine if you need more intervals</li>
                                    <li>Export results for further analysis or documentation</li>
                                </ul>
                            </div>
                            <div class="bg-secondary rounded-lg p-4">
                                <p class="font-semibold text-foreground mb-2">Common Pitfalls:</p>
                                <ul class="list-disc list-inside space-y-1 ml-4">
                                    <li>Avoid functions with discontinuities or singularities in the integration interval</li>
                                    <li>Ensure Simpson's 1/3 Rule uses an even number of intervals</li>
                                    <li>Ensure Simpson's 3/8 Rule uses a number of intervals divisible by 3</li>
                                    <li>Check that your function is valid for all x in [a, b]</li>
                                </ul>
                            </div>
                        </div>
                    </section>

                    <!-- Understanding Error -->
                    <section>
                        <h3 class="text-xl font-bold mb-4 text-primary">Understanding Numerical Integration Error</h3>
                        <div class="space-y-4 text-sm text-muted-foreground">
                            <p>All numerical integration methods introduce some error because they approximate the true integral. Understanding error helps you choose the right method and number of intervals.</p>
                            <div class="bg-secondary rounded-lg p-4">
                                <p class="font-semibold text-foreground mb-2">Error Characteristics:</p>
                                <ul class="list-disc list-inside space-y-1 ml-4">
                                    <li><strong class="text-foreground">Trapezoidal Rule:</strong> Error ≈ O(h²) - decreases quadratically with interval size</li>
                                    <li><strong class="text-foreground">Simpson's 1/3 Rule:</strong> Error ≈ O(h⁴) - decreases much faster than Trapezoidal</li>
                                    <li><strong class="text-foreground">Simpson's 3/8 Rule:</strong> Error ≈ O(h⁴) - similar to Simpson's 1/3 Rule</li>
                                </ul>
                            </div>
                            <div class="bg-secondary rounded-lg p-4">
                                <p class="font-semibold text-foreground mb-2">Reducing Error:</p>
                                <ul class="list-disc list-inside space-y-1 ml-4">
                                    <li>Increase the number of intervals (decrease h)</li>
                                    <li>Use Simpson's methods for smooth functions</li>
                                    <li>Use Convergence Analysis to find optimal interval count</li>
                                    <li>Compare results from different methods to verify accuracy</li>
                                </ul>
                            </div>
                        </div>
                    </section>

                    <section>
                        <h3 class="text-xl font-bold mb-4 text-primary">Real-World Applications</h3>
                        <div class="space-y-6 text-sm text-muted-foreground">
                            <p>Numerical integration is essential in many fields where exact analytical solutions are difficult or impossible. Here are practical examples you can try:</p>

                            <div class="bg-secondary rounded-lg p-4">
                                <h4 class="font-semibold text-foreground mb-3 flex items-center gap-2">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"/></svg>
                                    Area Calculations
                                </h4>
                                <p class="mb-3">Calculate the area under curves or between curves:</p>
                                
                                <div class="bg-input rounded p-3 mb-3">
                                    <p class="font-semibold text-foreground mb-2">Example: Area under a parabola</p>
                                    <p class="mb-2">Find the area under y = x² from x = 0 to x = 2</p>
                                    <ul class="space-y-1 ml-4 text-xs">
                                        <li><strong class="text-foreground">Function:</strong> <code class="bg-card px-1 py-0.5 rounded font-mono">x**2</code></li>
                                        <li><strong class="text-foreground">Bounds:</strong> 0 to 2</li>
                                        <li><strong class="text-foreground">Expected:</strong> 8/3 ≈ 2.667</li>
                                        <li><strong class="text-foreground">Application:</strong> Land surveying, construction planning</li>
                                    </ul>
                                </div>

                                <div class="bg-input rounded p-3">
                                    <p class="font-semibold text-foreground mb-2">Example: Area between curves</p>
                                    <p class="mb-2">Area between y = x² and y = x from x = 0 to x = 1</p>
                                    <ul class="space-y-1 ml-4 text-xs">
                                        <li><strong class="text-foreground">Function:</strong> <code class="bg-card px-1 py-0.5 rounded font-mono">x - x**2</code></li>
                                        <li><strong class="text-foreground">Bounds:</strong> 0 to 1</li>
                                        <li><strong class="text-foreground">Expected:</strong> 1/6 ≈ 0.167</li>
                                    </ul>
                                </div>
                            </div>

                            <!-- Volume Calculations -->
                            <div class="bg-secondary rounded-lg p-4">
                                <h4 class="font-semibold text-foreground mb-3 flex items-center gap-2">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"/></svg>
                                    Volume Calculations
                                </h4>
                                <p class="mb-3">Calculate volumes of revolution using the disk/washer method:</p>
                                
                                <div class="bg-input rounded p-3 mb-3">
                                    <p class="font-semibold text-foreground mb-2">Example: Volume of a sphere (radius = 1)</p>
                                    <p class="mb-2">Volume = π ∫₀¹ (1 - x²) dx (rotating y = √(1-x²) around x-axis)</p>
                                    <ul class="space-y-1 ml-4 text-xs">
                                        <li><strong class="text-foreground">Function:</strong> <code class="bg-card px-1 py-0.5 rounded font-mono">1 - x**2</code></li>
                                        <li><strong class="text-foreground">Bounds:</strong> 0 to 1</li>
                                        <li><strong class="text-foreground">Multiply by:</strong> π to get volume</li>
                                        <li><strong class="text-foreground">Expected:</strong> π × (2/3) ≈ 2.094</li>
                                        <li><strong class="text-foreground">Application:</strong> Manufacturing, container design</li>
                                    </ul>
                                </div>

                                <div class="bg-input rounded p-3">
                                    <p class="font-semibold text-foreground mb-2">Example: Volume of a cone</p>
                                    <p class="mb-2">Rotating y = x from x = 0 to x = h around x-axis</p>
                                    <ul class="space-y-1 ml-4 text-xs">
                                        <li><strong class="text-foreground">Function:</strong> <code class="bg-card px-1 py-0.5 rounded font-mono">x**2</code> (for height h=1)</li>
                                        <li><strong class="text-foreground">Bounds:</strong> 0 to 1</li>
                                        <li><strong class="text-foreground">Multiply by:</strong> π</li>
                                        <li><strong class="text-foreground">Expected:</strong> π/3 ≈ 1.047</li>
                                    </ul>
                                </div>
                            </div>

                            <div class="bg-secondary rounded-lg p-4">
                                <h4 class="font-semibold text-foreground mb-3 flex items-center gap-2">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"/></svg>
                                    Physics: Work and Energy
                                </h4>
                                
                                <div class="bg-input rounded p-3 mb-3">
                                    <p class="font-semibold text-foreground mb-2">Example: Work done by a variable force</p>
                                    <p class="mb-2">Work = ∫ F(x) dx. Calculate work done by force F(x) = x² from x = 0 to x = 5 meters</p>
                                    <ul class="space-y-1 ml-4 text-xs">
                                        <li><strong class="text-foreground">Function:</strong> <code class="bg-card px-1 py-0.5 rounded font-mono">x**2</code></li>
                                        <li><strong class="text-foreground">Bounds:</strong> 0 to 5</li>
                                        <li><strong class="text-foreground">Expected:</strong> 125/3 ≈ 41.67 Joules</li>
                                        <li><strong class="text-foreground">Application:</strong> Mechanical engineering, robotics</li>
                                    </ul>
                                </div>

                                <div class="bg-input rounded p-3 mb-3">
                                    <p class="font-semibold text-foreground mb-2">Example: Potential energy stored in a spring</p>
                                    <p class="mb-2">Energy = ∫₀ˣ kx dx = ½kx². For k=10 N/m, compressed 0.5m</p>
                                    <ul class="space-y-1 ml-4 text-xs">
                                        <li><strong class="text-foreground">Function:</strong> <code class="bg-card px-1 py-0.5 rounded font-mono">10*x</code></li>
                                        <li><strong class="text-foreground">Bounds:</strong> 0 to 0.5</li>
                                        <li><strong class="text-foreground">Expected:</strong> 1.25 Joules</li>
                                    </ul>
                                </div>

                                <div class="bg-input rounded p-3">
                                    <p class="font-semibold text-foreground mb-2">Example: Distance traveled with variable velocity</p>
                                    <p class="mb-2">Distance = ∫ v(t) dt. For v(t) = 2t + 3 from t = 0 to t = 10 seconds</p>
                                    <ul class="space-y-1 ml-4 text-xs">
                                        <li><strong class="text-foreground">Function:</strong> <code class="bg-card px-1 py-0.5 rounded font-mono">2*x + 3</code></li>
                                        <li><strong class="text-foreground">Bounds:</strong> 0 to 10</li>
                                        <li><strong class="text-foreground">Expected:</strong> 130 meters</li>
                                        <li><strong class="text-foreground">Application:</strong> Motion analysis, GPS tracking</li>
                                    </ul>
                                </div>
                            </div>

                            <div class="bg-secondary rounded-lg p-4">
                                <h4 class="font-semibold text-foreground mb-3 flex items-center gap-2">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/></svg>
                                    Engineering Applications
                                </h4>
                                
                                <div class="bg-input rounded p-3 mb-3">
                                    <p class="font-semibold text-foreground mb-2">Example: Total charge in an electric field</p>
                                    <p class="mb-2">Charge = ∫ ρ(x) dx. For charge density ρ(x) = e^(-x) from x = 0 to x = 5</p>
                                    <ul class="space-y-1 ml-4 text-xs">
                                        <li><strong class="text-foreground">Function:</strong> <code class="bg-card px-1 py-0.5 rounded font-mono">exp(-x)</code></li>
                                        <li><strong class="text-foreground">Bounds:</strong> 0 to 5</li>
                                        <li><strong class="text-foreground">Expected:</strong> 1 - e^(-5) ≈ 0.993</li>
                                        <li><strong class="text-foreground">Application:</strong> Electronics, circuit design</li>
                                    </ul>
                                </div>

                                <div class="bg-input rounded p-3 mb-3">
                                    <p class="font-semibold text-foreground mb-2">Example: Center of mass calculation</p>
                                    <p class="mb-2">For a rod with linear density λ(x) = x² from x = 0 to x = L</p>
                                    <ul class="space-y-1 ml-4 text-xs">
                                        <li><strong class="text-foreground">Function:</strong> <code class="bg-card px-1 py-0.5 rounded font-mono">x**2</code></li>
                                        <li><strong class="text-foreground">Bounds:</strong> 0 to 1 (normalized)</li>
                                        <li><strong class="text-foreground">Application:</strong> Structural engineering, balance calculations</li>
                                    </ul>
                                </div>

                                <div class="bg-input rounded p-3">
                                    <p class="font-semibold text-foreground mb-2">Example: Fluid flow rate</p>
                                    <p class="mb-2">Flow rate = ∫ v(r) dA. For velocity profile v(r) = 1 - r² in a pipe (r = 0 to 1)</p>
                                    <ul class="space-y-1 ml-4 text-xs">
                                        <li><strong class="text-foreground">Function:</strong> <code class="bg-card px-1 py-0.5 rounded font-mono">1 - x**2</code></li>
                                        <li><strong class="text-foreground">Bounds:</strong> 0 to 1</li>
                                        <li><strong class="text-foreground">Expected:</strong> 2/3 ≈ 0.667</li>
                                        <li><strong class="text-foreground">Application:</strong> Hydraulics, HVAC systems</li>
                                    </ul>
                                </div>
                            </div>

                            <!-- Statistics and Probability -->
                            <div class="bg-secondary rounded-lg p-4">
                                <h4 class="font-semibold text-foreground mb-3 flex items-center gap-2">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="20" x2="18" y2="10"/><line x1="12" y1="20" x2="12" y2="4"/><line x1="6" y1="20" x2="6" y2="14"/></svg>
                                    Statistics and Probability
                                </h4>
                                
                                <div class="bg-input rounded p-3 mb-3">
                                    <p class="font-semibold text-foreground mb-2">Example: Probability from probability density function</p>
                                    <p class="mb-2">P(a ≤ X ≤ b) = ∫ f(x) dx. For normal distribution approximation f(x) = e^(-x²/2)</p>
                                    <ul class="space-y-1 ml-4 text-xs">
                                        <li><strong class="text-foreground">Function:</strong> <code class="bg-card px-1 py-0.5 rounded font-mono">exp(-x**2/2)</code></li>
                                        <li><strong class="text-foreground">Bounds:</strong> -2 to 2 (standard deviations)</li>
                                        <li><strong class="text-foreground">Application:</strong> Quality control, risk analysis</li>
                                    </ul>
                                </div>

                                <div class="bg-input rounded p-3">
                                    <p class="font-semibold text-foreground mb-2">Example: Expected value calculation</p>
                                    <p class="mb-2">E[X] = ∫ x·f(x) dx. For f(x) = 2x from x = 0 to x = 1</p>
                                    <ul class="space-y-1 ml-4 text-xs">
                                        <li><strong class="text-foreground">Function:</strong> <code class="bg-card px-1 py-0.5 rounded font-mono">x*2*x</code> or <code class="bg-card px-1 py-0.5 rounded font-mono">2*x**2</code></li>
                                        <li><strong class="text-foreground">Bounds:</strong> 0 to 1</li>
                                        <li><strong class="text-foreground">Expected:</strong> 2/3 ≈ 0.667</li>
                                        <li><strong class="text-foreground">Application:</strong> Data analysis, forecasting</li>
                                    </ul>
                                </div>
                            </div>

                            <div class="bg-secondary rounded-lg p-4">
                                <h4 class="font-semibold text-foreground mb-3 flex items-center gap-2">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="12" y1="1" x2="12" y2="23"/><path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"/></svg>
                                    Economics and Finance
                                </h4>
                                
                                <div class="bg-input rounded p-3 mb-3">
                                    <p class="font-semibold text-foreground mb-2">Example: Total revenue over time</p>
                                    <p class="mb-2">Revenue = ∫ R'(t) dt. For revenue rate R'(t) = 1000·e^(-0.1t) from t = 0 to t = 10 years</p>
                                    <ul class="space-y-1 ml-4 text-xs">
                                        <li><strong class="text-foreground">Function:</strong> <code class="bg-card px-1 py-0.5 rounded font-mono">1000*exp(-0.1*x)</code></li>
                                        <li><strong class="text-foreground">Bounds:</strong> 0 to 10</li>
                                        <li><strong class="text-foreground">Application:</strong> Business planning, investment analysis</li>
                                    </ul>
                                </div>

                                <div class="bg-input rounded p-3">
                                    <p class="font-semibold text-foreground mb-2">Example: Consumer surplus</p>
                                    <p class="mb-2">Surplus = ∫ [Demand(x) - Price] dx. For demand curve D(x) = 100 - x²</p>
                                    <ul class="space-y-1 ml-4 text-xs">
                                        <li><strong class="text-foreground">Function:</strong> <code class="bg-card px-1 py-0.5 rounded font-mono">100 - x**2</code></li>
                                        <li><strong class="text-foreground">Bounds:</strong> 0 to 10 (market quantity)</li>
                                        <li><strong class="text-foreground">Application:</strong> Market analysis, pricing strategies</li>
                                    </ul>
                                </div>
                            </div>

                            <div class="bg-accent/10 border border-accent/30 rounded-lg p-4">
                                <p class="font-semibold text-foreground mb-2">💡 Tips for Real-World Problems:</p>
                                <ul class="list-disc list-inside space-y-1 ml-4 text-xs">
                                    <li>Always check units - ensure your bounds and function values are consistent</li>
                                    <li>For oscillating functions (like sin, cos), use more intervals for accuracy</li>
                                    <li>Compare multiple methods to verify your results</li>
                                    <li>Use convergence analysis to ensure sufficient precision</li>
                                    <li>Remember: numerical integration gives approximations - consider error bounds for critical applications</li>
                                </ul>
                            </div>
                        </div>
                    </section>
                </div>
            </div>
        </div>
    </div>

    <footer class="border-t border-border bg-card/30 mt-12">
        <div class="container mx-auto px-4 py-6 flex flex-col md:flex-row items-center justify-between gap-4">
            <p class="text-sm text-muted-foreground text-center md:text-left">Numerical Integration Calculator • Supports Trapezoidal Rule, Simpson's 1/3 Rule, and Simpson's 3/8 Rule</p>
            <div class="flex gap-4">
                <span class="text-sm text-muted-foreground">v1.0.0</span>
            </div>
        </div>
    </footer>

    <script src="script.js"></script>
</body>
</html>
